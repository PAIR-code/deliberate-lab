<form [formGroup]="questionForm">
  <div class="item-pair">
    <div class="title">{{ question.questionText }}</div>
    <mat-radio-group formControlName="choice" class="item-pair-displays">
      <mat-radio-button
        class="item-pair-item {{ question.choice === 'item1' ? 'selected' : '' }}"
        value="item1"
      >
        <img src="{{ question.item1.imageUrl }}" alt="{{ question.item1.name }}" />
        <span class="item-pair-item-name">{{ question.item1.name }}</span>
      </mat-radio-button>
      <mat-radio-button
        class="item-pair-item {{ question.choice === 'item2' ? 'selected' : '' }}"
        value="item2"
      >
        <img src="{{ question.item2.imageUrl }}" alt="{{ question.item2.name }}" />
        <span class="item-pair-item-name">{{ question.item2.name }}</span>
      </mat-radio-button>
    </mat-radio-group>

    @if (questionForm.value.choice !== null) {
      <div class="item-pair-confidence">
        <div class="confidence-value">
          <strong>Confidence:</strong>
          <span class="value {{ question.confidence === null ? 'not-rated' : '' }}">
            {{ question.confidence !== null ? question.confidence.toFixed(1) : 'Not rated' }}
          </span>
        </div>
        <div class="slider-container">
          @if (question.confidence === 0 || question.confidence === null) {
            <span class="slider-end-label"><b> 50/50 ü§∑</b></span>
          } @else {
            <span class="slider-end-label">50/50 ü§∑</span>
          }
          <mat-slider min="0" max="1" step="0.1" discrete>
            <input matSliderThumb formControlName="confidence" />
          </mat-slider>
          @if (question.confidence === 1) {
            <span class="slider-end-label"
              >üëç<b> Full <br />confidence</b></span
            >
          } @else {
            <span class="slider-end-label">üëç Full <br />confidence</span>
          }
        </div>
      </div>
    }
  </div>
</form>
